<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Home Page</title>
  <link rel="stylesheet" type="text/css" href="../css/intlTelInput.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
  <link rel="stylesheet" href="../css/style.css" />
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
    integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <script type="text/javascript" src="../js/intlTelInput.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script src="https://unpkg.com/gijgo@1.9.13/js/gijgo.min.js" type="text/javascript"></script>
  <link href="https://unpkg.com/gijgo@1.9.13/css/gijgo.min.css" rel="stylesheet" type="text/css" />
  <script src="https://js.zohostatic.com/creator/widgets/version/1.0/widgetsdk-min.js"></script>
  <script src="../js/sdk.js"></script>
</head>

<body>
  <div id="message" class="message hidden"></div><!--alert div-->
  <div class="pos" id="homepage"><!--blurclass removed-->
    <div class="left-side" id="left-side">
      <div class="categoryDiv"><!--Category select div-->
        <div class="subcategoryDiv">
          <select class="category-list" id="categoryList">
            <option class="category-listItems" value="0">All</option>
          </select>
          <div class="autocomplete">
            <div class="autocomplete-items" id="suggestionsContainer"></div>
            <input type="text" id="searchInput" autocomplete="off" placeholder="Type here to search" />
          </div>
          <div class="itemSearchDiv">
            <i class="bi bi-search search-btn" id="itemsSearch" onclick="itemsSearch()"></i>
          </div>
        </div>
      </div>

      <div id="data"></div>
      <div id="loader-div">
        <h4 style="margin-top: 20px; font-weight: 600;">Loading...</h4>
        <div class="loader"></div>
      </div>
      <div id="pagination" >
        <!-- <div class="subPagination"> -->
        <div class="showingItems">
          <div class="total-qty-div">
            <span class="text-total">Total :</span>
            <span id="total" onclick="total()">View</span>
            <!-- <span class="loader-span" id="loader-span"></span> -->
            <span id="loader-span" class="glyphicon loader-span">&#xe031;</span>
            <span id="total-refresh" class="glyphicon total-refresh" onclick="total()">&#xe031;</span>
          </div>
          <select id="show-perpage" onchange="changeItemsperPage()">
            <option value="50" selected hidden disabled>50</option>
            <option value="50">50</option>
            <option value="100">100</option>
            <option value="200">200</option>
          </select>
          <span class="itemsperpage">Per Page</span>
          <!-- </div>
            <div class="pageNumber"> -->
          <a href="#" id="previous-btn">&#8249;</a>
          <span href="#" id="current-page"></span>
          <a href="#" id="next-btn">&#8250;</a>
        </div>
        <div class="btmButtons">
          <button className="btmBtn1" id="hold-button" onclick="holdCustomer()">Hold</button>
          <button className="btmBtn1" id="recall-button" onclick="recallCustomer()">Recall</button>
          <button className="btmBtn1" onclick="refreshCartPage()">Refresh</button>
        </div>
        <!-- </div> -->
      </div>
    </div>
    <div class="hold-main" id="hold-main"><!--holdcustomer div-->
      <div class="content">
        <div style="display: flex; flex-direction: row-reverse; text-align: center; width: 100%;">
          <!-- <a href="#" class="btn btn-info btn-md" onclick="closeHoldCustomer()">
            <span class="glyphicon glyphicon-remove-sign"></span> Close
          </a> -->
          <a href="#" onclick="closeHoldCustomer()">
            <span class="glyphicon glyphicon-remove-circle closeHoldCustomer-btn"></span>
          </a>
        </div>
        <div class="searchBar">
          <input placeholder="Search for Names" autocomplete="off" type="text" id="search-hold-customer"
            class="search-hold-customer" onkeyup="holdCustomerSearch()" />
        </div>
        <div class="holdCustomerDiv">
          <table id="holdCustomerTable" class="holdCustomerTable">
            <tr>
              <th style="width: 40%;" class="holdCustomerTable-th">Name</th>
              <th style="width: 35%;" class="holdCustomerTable-th">ID</th>
              <th style="width: 25%;" class="holdCustomerTable-th">Recall</th>
            </tr>
          </table>
        </div>
        <div class="holdCustomerEmpty" id="holdCustomerEmpty">
          <h2>List is empty</h2>
        </div>
      </div>
    </div><!-- Left-Side pos blur -->

    <div class="right-side">
      <div class="customerDiv" id="customerDiv">
        <div class="customerDetail">
          <select class="customer-list" id="customerList" onchange="customerdetailSelect()">
            <option class="customer-list-2" value="Customer ID">Customer ID</option>
            <option class="customer-list-2" value="Mobile">Mobile</option>
            <option class="customer-list-2" value="Name & DOB">DOB & Name</option>
            <option class="customer-list-2" value="Email">Email</option>
            <option class="customer-list-2" value="Walk-in Customer">Walk-in Customer</option>
          </select>
          <input type="tel" autocomplete="off" name="mobile" id="phone" value="+91" />
          <input name="" autocomplete="off" placeholder="DD/MM/YY" id="datepicker" />
          <input autocomplete="off" type="text" class="search cus" id="customerInput" style="margin-left:-5px" />
          <div class="search-btn-div">
            <i class="bi bi-search search-btn" id="customerSearch" onclick="customerSearch()"></i>
          </div>
        </div>
        <small id="errmessage"></small>
        <div class="emptyDiv"  onclick="customertableShow()">
          <p class="customer-detail" style="background-color:white;">Add New Customer</p>
          <div class="customer-show-btn">
            <i class="bi bi-plus-lg customer-add-btn"></i>
          </div>
        </div>
        <div class="customerdata" onclick="showCustomerDetail()">
          <p class="userDetail"></p>
          <div class="customer-show-btn">
            <i class="bi bi-list-ul customer-add-btn"></i>
          </div>
        </div>
      </div>

      <div class="cart-page" style="background-color:white;">
        <table class="cart-table">
          <tr class="cart-page-head" style="position:sticky; top:0;">
            <th class="th" style="width:10% !important;">S.No.</th>
            <th class="th" style="width:35% !important; text-align:center">Products</th>
            <th class="th" style="width:30% !important;">Quantity</th>
            <th class="th" style="width:25% !important;" colspan="2">Amount</th>
            <!-- <th class="th" style="text-align:right"></th> -->
          </tr>
        </table>
      </div>

      <div class="cart-footer">
        <div class="cart-footer-subtotal-div">
          <div>
            <span class="card-item-num">(Items:0,Quantity:0)</span>
          </div>
          <hr class="hr">
          <div class="sub-div">
            <span>Sub Total</span>
            <span id="sub-total-amount" class="sub-amount currency">₹0.00</span>
          </div>
          <hr class="hr">
          <div class="sub-div">
            <span class="sub-div-span">Tax</span>
            <span id="total-tax-amount" class="sub-amount currency">₹0.00</span>
          </div>
        </div>
        <div class="cart-total-main">
          <div class="cart-total-div">
            <h3 class="cart-total-main-h3">Total</h3>
            <h1 class="total-price">₹0.00</h1>
          </div>
          <div class="cart-payment-div">
            <button class="payment-btn" onclick="redirectCartPage()">Payment</button> <!-- -->
          </div>
        </div>
      </div>


      <!-- <div class="cart-footer">
        <div class="cart-total-div">
          <h1 class="total-name">Total</h1>
          <span class="card-item-num">(Items:0,Quantity:0)</span>
          <h1 class="total-price">₹0.00</h1>
        </div>
        <div class="cart-payment-div">
          <button class="payment-btn" >Payment</button> onclick="redirectCartPage()"
        </div>
      </div> -->
    </div> <!-- Right Card-Page -->
  </div><!--POS full-->
  <div class="main" id="cartpage"><!--2nd page-->
    <nav class="zoho-title"></nav>
    <div class="payment-page">

      <div class="left-side">
        <div class="cart-page">
          <table class="cart-table">
            <tr>
              <th class="th" style="width:10% !important;">S.No.</th>
              <th class="th" style="width:35% !important; text-align:center">Products</th>
              <th class="th" style="width:30% !important;">Quantity</th>
              <th class="th" style="width:25% !important;" colspan="2">Amount</th>
            </tr>
          </table>
        </div> <!-- Card-Page -->

        <div class="cart-subtotal">
          <table class="cart-subtotal-table">
            <tr>
              <div>
                <td colspan="9">Sub Total</td>
                <td class="currency sub-total" id="sub-total">₹0.00</td>
              </div>
            </tr>
            <tr>
              <div>
                <td colspan="9">Tax</td>
                <td class="currency" id="sub-tax">₹0.00</td>
              </div>
            </tr>
            <!-- <tr style="display: none !important;">
              <div >
                <td colspan="9">Bill Discount</td>
                <td class="currency" id="sub-discount">₹0.00</td>
              </div>
            </tr>
            <tr style="display: none !important;">
              <div>
                <td colspan="9">Round Off</td>
                <td class="currency" id="sub-r-off">₹0.00</td>
              </div>
            </tr> -->
          </table>
        </div>

        <div class="cart-footer">
          <div style="display: flex; align-items: center;">
            <h1 class="total-name">Total</h1>
            <span class="card-item-num" id="cartpage-quantity">(Items:0,Quantity:0)</span>
          </div>
          <h1 class="cp-total-price currency" id="cartpage-totalprice">₹0.00</h1>
        </div>
      </div> <!-- Left-Side -->

      <div class="right-side">

        <div class="order-info" id="order-info">
          <h3 class="o-i-h2 h3">Amount to be Paid</h3>
          <h3 class="currency h3" id="toPaid">₹0.00</h3>
        </div>
        <div class="order-info-2">
          <h2 class="o-i-2-h2">Payment Options</h2>
          <div style="display: flex; flex-wrap: wrap; justify-content: space-between;">
            <button class="btns">Cash</button>
            <button class="btns">Credit Cards</button>
          </div>
        </div>
        <div class="order-info-3">
          <h3 class="h3">Payment Summary</h3>
          <div class="payment-summary">
            <div class="payment-summary-divs">
              <h4 class="title-1 h4">Cash</h4>
              <h4 class="answer-1 h4">₹<input type="text" id="cash" class="cash-input" onchange="cashChange(this)"
                  size="8"></h4>
            </div>
            <div class="payment-summary-divs" style="display: none !important;">
              <h4 class="title-2">Total Amount Paid</h4>
              <h4 class="answer-2">₹<input type="text" id="paid" class="cash-input" onchange="cashChange(this)"
                  size="8"></h4>
            </div>
            <div class="payment-summary-divs">
              <h4 class="title-3 h4">Balance</h4>
              <h4 class="answer-3 h4">₹<input type="text" id="balance" class="cash-input" onchange="cashChange(this)"
                  size="8" disabled></h4>
            </div>
          </div>
        </div>
        <div class="order-info-4">
          <button class="btns" onclick="redirectIndexPage()">Back to
            Sale</button><!--style="display: none !important;"-->
          <button class="proceed-btn" onclick="redirectLastPage()">Proceed</button>
        </div>
      </div>
    </div>
  </div>
  <div class="payment-page-2" id="lastpage"><!--lastpage-->
    <div class="left-side">
      <div class="cart-page">
        <table class="cart-table">
          <tr>
            <th class="th" style="width:10% !important;">S.No.</th>
            <th class="th" style="width:35% !important; text-align:center">Products</th>
            <th class="th" style="width:30% !important;">Quantity</th>
            <th class="th" style="width:25% !important;" colspan="2">Amount</th>
          </tr>
        </table>
      </div>

      <div class="cart-footer">
        <div style="display: flex; align-items: center;">
          <h1 class="total-name">Total</h1>
          <span class="card-item-num" id="lastpage-quantity">(Items:0,Quantity:0)</span>
        </div>
        <h1 class="total-price currency" id="lastpage-totalprice">₹0.00</h1>
      </div>
    </div> <!-- Left-Side -->

    <div class="right-side">

      <div>
        <center>
          <div class="icon-div">
            <i>&#10003;</i>
          </div>
          <p class="check-icon-name">Billed Successfully !</p>
        </center>
      </div>

      <div class="order-info">
        <div style="display: flex; justify-content: space-between;">
          <h4 class="span1">Bill Number</h4>
          <h4 class="span2">SA-001</h4>
        </div>
        <div style="display: flex; justify-content: space-between;">
          <h4 class="span1">Amount Paid</h4>
          <h4 class="span2" id="amount-paid">₹0.00</h4>
        </div>
        <div style="display: none !important; justify-content: space-between;">
          <span class="span1">Balance Amount</span>
          <span class="span2">₹0.00</span>
        </div>
      </div>

      <div class="order-info-2">
        <h4 class="span1">Customer Info &nbsp;</h4>
        <span class="span1 span1-highlight">Mark Zuckerberg - 4358776</span>
        <span class="span1">No 14, Washington DC - 600028</span>
      </div>


      <div class="order-info-4">
        <h4 class="span1">Generate Invoice as</h4>
        <div class="lastpage-btn-divs">
          <button class="btns">PDF</button>
          <button class="btns" style="display: none !important;">XPS</button>
          <button class="btns">Print</button>
        </div>
      </div>

      <div class="order-info-5">
        <button class="" onclick="complete()">Done</button>
      </div>
    </div> <!-- Right-Side -->
  </div><!--lastpage-->

  <div id="customerDetailsHidden" class="customerDetailsHidden"></div>
  <!-- Popup overlay -->
  <div class="overlay" id="overlay"></div>

  <!-- Success popup -->
  <div class="popup-success" id="popup-success">
    <div class="icon-success">
      <h1 class="glyphicon glyphicon-ok-circle"></h1>
    </div>
    <h2 class="icon-success-h2">Registration Successful!</h2>
    <p>Thank you for registering.</p>
    <button class="icon-success-button" onclick="closePopupSuccess()">Close</button>
  </div>
  <div class="cart-arrow" id="cart-arrow" onclick="toggleCartTable()">
    <a href="#">
      <span class="glyphicon btn-lg glyphicon-shopping-cart cart-arrow-icon"></span>
    </a>
  </div>
  <!-- <div class="popup">
  <div class="close-btn">&times;</div>
    <div class="form">
      <h3 style="background-color:rgb(30, 33, 66);border-radius:5px;color:white;font-size:15px;padding:7px;width:100%">Add Customer Details</h3>
      <div class="form-element">
        <input type="text" placeholder="Full Name" autocomplete="off"/>
      </div>
      <div class="form-element">
        <input type="email" placeholder="Email" autocomplete="off"/>
      </div>
      <div class="form-element">
       <input type="text" placeholder="Mobile" autocomplete="off"/>
      </div>
      <div class="form-element">
        <input placeholder="Date of Birth" autocomplete="off"/>
      </div>
      <div class="form-element">
        <input type="text" placeholder="Company/Organization" autocomplete="off"/>
      </div>
      <div class="form-element">
        <input type="text" placeholder="Address" autocomplete="off"/>
      </div>
      <div class="form-element">
        <center>
           <button onclick="submit()">Submit</button>
        </center>
      </div>
  </div>
</div> -->
  <!-- <script src="sdk.js"></script> -->
  <script src="../js/index.js"></script>
  <script src="../js/App.js" async></script>
  <script src="../js/Apps.js"></script>
  <script src="../js/search.js"></script>
  <script src="../js/jquery.scannerdetection.js"></script>
  <script>
    var date = new Date();

    let day = date.getDate();
    let month = date.getMonth() + 1;
    let year = date.getFullYear();

    let currentDate = `${day}-${month}-${year}`;
    let currentDatepicker = `${day}/${month}/${year}`;
    var dateFormat = "dd/mm/yyyy"
    $('#datepicker').datepicker({
      uiLibrary: 'bootstrap',
      value: currentDatepicker,
      format: dateFormat
    });
    var inp = document.querySelector('#phone');
    window.intlTelInput(inp, {});

    //barcode scanner
    $(document).scannerDetection({

      timeBeforeScanTest: 200, // wait for the next character for upto 200ms
      avgTimeByChar: 40, // it's not a barcode if a character takes longer than 100ms
      preventDefault: false, // changed from true to false myself

      endChar: [13],
      onComplete: function (barcode, qty) {
        const searchItemsInput = document.getElementById("searchInput")
        searchItemsInput.value = "";
        validScan = true;
        //console.log("barcode--" + barcode);
        getSKU(barcode)
        //addtoCart("148608000000284647")
      } // main callback function ,
    });

    // document.addEventListener('DOMContentLoaded', function(){
    //   setTimeout(function() {
    //   document.body.click()
    //   console.log("click")
    // }, 2000);
    // })
  </script>
</body>

</html>

<!--<script>
    /* Resize select width according to selected text */
    $(document).ready(function() {
       $("#width_tmp_option").html($('#resizing_select option:selected').text());
       $('#resizing_select').width($("#width_tmp_select").width());

    $('#resizing_select').change(function(){
      $("#width_tmp_option").html($('#resizing_select option:selected').text());
      $(this).width($("#width_tmp_select").width());
    });
    });
</script>-->